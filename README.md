# Простой прототип игры PvPClicker

Игра рассчитана на 2 игроков за одним компьютером по очереди
Можно поиграть онлайн - https://anzhelika24.itch.io/pvpclicker

## Версия Unity

- Unity **2022.3.62f2**
- 2D‑проект

## Идея

Есть поле из нескольких узлов (кружков) — это вершины графа.  
У каждой вершины есть:

- число (сила узла),
- владелец: один из игроков или нейтральный статус.

Игроки кликами усиливают свои узлы и ослабляют/захватывают узлы соперников.  
Побеждает тот, у кого в конце остаются хоть какие‑то узлы.

## Основные правила

1. **Граф узлов**
   - На сцене размещено несколько узлов (`Node_1`…`Node_6`). В данном случае их шесть.
   - У каждого узла есть список соседей (`neighbors`) — это связи графа.
   - Граф связей представлен как цикл (узлы соединены ровно по порядку, по кругу)

2. **Старт матча**
   - При запуске матча каждому узлу случайно задаётся значение (от `Min Start Value` до `Max Start Value`).
   - Узлы случайно распределяются между игроками, часть остаётся нейтральной (серой).
   - Каждый игрок имеет цвет (например, красный, зелёный, жёлтый) — этим цветом окрашиваются его узлы.
   - Вверху отображается, чей сейчас ход.

3. **Клик по своему узлу**
   - Если игрок кликает по **своему** узлу, его значение увеличивается на `clickPower` (по умолчанию 1).

4. **Атака чужого / нейтрального узла**
   - Игрок может кликать по узлам, которые **не принадлежат ему**, только если этот узел является **соседом** хотя бы одного его узла.
   - В этом случае значение узла уменьшается на `clickPower`.
   - Если значение узла стало `0`, он теряет владельца и становится нейтральным.
   - Если кликнуть по нейтральному узлу с `0`, он захватывается и становится узлом текущего игрока.

5. **Выбывание и победа**
   - Если у игрока не остаётся ни одного узла, он считается выбывшим (остается пассивным наблюдателем).
   - Когда в игре остаётся один активный игрок — он объявляется победителем.

---

## Управление

- Клик **мышью** по узлу:
  - по своему — усиление;
  - по соседнему чужому/нейтральному — атака/захват.
- Кнопка **«Сыграть ещё раз»** в окне победы:
  - перезапускает сцену,
  - заново рандомит значения узлов и распределение владельцев.

---

## UI

- **StatusText** — текст вверху экрана:
  - показывает текущего игрока
  - в конце матча — сообщение о победителе или ничьей.
- **WinPanel** — окно окончания матча:
  - текст с именем победителя;
  - кнопка `Сыграть ещё раз`.

---

## Структура проекта (основные скрипты)

- `GameManager`
  - хранит список игроков и узлов;
  - случайно задаёт начальные значения и владельцев;
  - обрабатывает клики, смену хода, выбывание и победу;
  - управляет UI (StatusText, WinPanel, рестарт сцены).

- `PlayerData`
  - данные об игроке: имя, id, цвет, сила клика, флаг `isAlive`.

- `NodeController`
  - хранит значение узла (`value`), владельца (`owner`), список соседей;
  - обновляет цвет и текст числа;
  - сообщает GameManager’у о клике по узлу.

---

## Как запустить

1. Открыть проект в Unity **2022.3.62f2**.
2. Открыть сцену `SampleScene` (Assets/Scenes или корень проекта).
3. Нажать **Play**.

---

## Ограничения и упрощения

- Игра локальная, без сети
- Карта фиксированная (узлы и связи заданы вручную в инспекторе)
- Количество игроков и узлов задаётся в инспекторе, а не выбирается через меню

